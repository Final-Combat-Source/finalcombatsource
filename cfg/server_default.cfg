// Team Fortress 2: Vintage Dedicated Server Configuration

// Essentials
hostname "Team Fortress 2 Vintage Server"	// [REQUIRED] Sets the name of the server on the server browser.
rcon_password ""							// Only give this password to admins/mods for the server.
sv_password ""								// Uncomment this line if you want to use a password/private server.
motdfile "motd.txt"
motdfile_text "motd_txt.txt"
sv_contact ""
sv_region "-1"								// Used to define what area of the world the server is in for searches.
sv_lan "0"									// Defines if server is LAN or Internet.				
// Use your launch parameters to define maxplayers for the server. 
// Max for TF2V is 64 players with sourcemod, 128 players without.

// Rcon and Security
sv_rcon_maxfailures 3
sv_rcon_minfailures 5
sv_rcon_banpenalty 15
sv_rcon_minfailuretime 10
sv_pausable "0"
setpause "0"
sv_stats "0"
sv_pure "0"							// Affects things such as texture and model mods. See pure_server_whitelist.txt for more information.
log "on"							// Keep these log commands on for headless servers.
sv_log_onefile "1"
sv_logfile "1"
sv_logbans "1"
sv_logecho "1"
exec banned_user.cfg
exec banned_ip.cfg
exec banned_rangeip.cfg				// Similar to banip, but is used with sourcemod to rangeban ips. Useful for IP hoppers.
writeid
writeip

// Downloads and Uploads
sv_allowupload "1"
sv_allowdownload "1"
net_maxfilesize "64"				// Max file size in MB.
sv_downloadurl ""					// If you have a FTP or similar with a HTTP repository, insert that here aimed at the tf2vintage folder on the repo. [ie: "http://<IP>:<PORT>/tf2vintage/" or "http://<ADDRESS>/subfolders/tf2vintage/"]

// Voice Chat
sv_voiceenable "1"
sv_voicecodec vaudio_celt			// Set this either to steam (lower bandwidth, less quality) or vaudio_celt (more bandwidth, higher quality)

// SourceTV Settings
tv_enable 1							// Enables or disables SourceTV for the server
tv_port 27020 						// (Default: port 27020)
tv_autorecord 0						// Automatically record demos when SourceTV is active. Deactivate this when auto recording is enabled. [Auto recording now enabled by default]
tv_maxclients 255					// Max number of TV clients that can connect as spectators. (Set to 0 for recording demos only)
tv_transmitall 1					// Allows free cam in demos.
tv_delaymapchange 0					// If spectating using SourceTV, delays the mapchange based on the SourceTV delay to prevent match end cutoff.
tv_delay 0							// Adds a delay to SourceTV spectators if desired. Useful in competitive games to prevent spectator ghosting.

// Performance
fps_max "60"
sv_minrate "6000"
sv_maxrate "30000"
sv_minupdaterate "20"
sv_maxupdaterate "66"
sv_timeout "30"
decalfrequency "10"					// Time in seconds between reapplying sprays.
sv_mincmdrate "20"
sv_maxcmdrate "66"
net_splitpacket_maxrate 30000    	//Setting this higher than the default seems to cause some people to get 999+ ping making the game unplayable for them. Does the same thing as sv_maxrate but only when frames are being fragmented into multiple packets or maybe it applies (I think...).
net_splitrate 2    					//Maximum number of fragments per frame.
sv_preload 1

// Base Multiplayer Commands
mp_forcecamera "1"
mp_allowspectators "1"
mp_footsteps "1"
mp_flashlight 0						// Allow players to use impulse 202 to use flashlights in game?

// Idler Commands
mp_idledealmethod "1" 				// How to deal with idlers (0-nothing, 1-force spectator, 2-kick)
mp_idlemaxtime "3"					// Idle time allowed (in minutes)

// Team balancing
mp_autoteambalance "1"
mp_teams_unbalance_limit "1"
mp_scrambleteams_auto 0

// Base Team Fortress 2 Commands
mp_enableroundwaittime "1"
mp_bonusroundtime "15"
mp_restartround "0"
mp_stalemate_enable "1"
mp_stalemate_timelimit "240"
tf_overtime_nag "1"
tf_playergib "1"
tf_max_voice_speak_delay "3"

// Win Commands
mp_timelimit 30						// Max time per map in minutes.
mp_winlimit 0						// Max wins per team per map.
mp_maxrounds 0						// Max rounds per map total.
tf_flag_caps_per_round "3"

// TF2 Classic Commands
tf_allow_player_use 1				// Allows the use button to be used. Useful for custom maps.
tf2c_allow_special_classes 0 		// [OBSOLETE] Allows the use of special classes.

// This is an extra file used as a launch parameter for community vote persistence between mapchanges.
// Comment this if you want community commands/voting to persist on mapchange.
exec server_extra.cfg

heartbeat
